## 指针的使用

### 指针在数组的使用
1. 在**数组**中使用指针
    
    **声明指针变量且初始化**
    ```
    int a[] = {1,2,3};

    // 声明指针变量并且初始化
    int *p;
    p = &a[0];
    ```

    **初始化的一些方法**

    声明时便初始化
    ```
    int *p = &a[0];

    int *p = a;   // 这两行其实等价
    ```

    声明之后再进行初始化
    ```
    int *p;
    p = a;

    p = &a[0];    // p = a 和 p = &a[0]等价
    ```

    **指针变量的运算**

    **++** 和 **--**
    ```
    int a[3] = {1, 2, 3};

    int *p = a;

    /*
    p 此时指向的a[0]的地址, *p 和a[0] 和 *(a + 0)都是一个意思
    
    p + i 就是a[i]的地址， *(p + i) 和 *(a + i) 都是a[i]

    p++ 指的是p的后一个元素地址
    p-- 指的是p的前一个元素地址
    */ 
    ```

    **指针引用数组的技巧小总结**

    假设已经有`p = a`, 那么执行下面的运算

    ```
    p++;
    *p;
    ```

    ```
    p++;    // 等价于*(p++) 先引用p的值，执行*p，然后++
    * 和 ++ 优先级相同， 右结合运算

    // 例如输出数组元素
    for(; p < 3 + a;)
    {
        printf("%d\t", *p++);
    }

    ```

    ```
    *++p \ *(++p) 是p先自加、然后执行*p

    *p-- \ *--p类似

    *++p 等价于 a[++i]
    *p++ 等价于 a[i++];
    ```

    **在多维数组中使用指针**

    ```
    int a[3][3] = {{1, 2, 3},{4, 5, 6}, {7, 8, 9}};

    a[0] a[1] a[2] 分别是三个一维数组的首地址

    a 代表数组首元素的地址，a 代表的首行的地址，也就是a[0]的地址

    a + 1 代表第二行的地址

    *(a + i) 和a[i]是等价的，表示第i行的地址

    若要表示a[i][j],则可以使用如下两种方法
    
    1. *(*(a + i) + j)
    2. *(a[i] + j)
    ```

2. 指针引用**字符串**
   
   ```
   char *string = "hello";
   printf("%s", string);
   ```

   ```
   char *s;
   s = "china";
   printf("%S", s);
   ```

   上面这两种方法都行，都能够完成引用字符串的功能，其实在C语言中**只有字符常量**

   **字符串复制的示例代码**
   ```
   void copystring(char *str, char *dst)
   {
       for (; *str != '\0;)
       {
           *dst++ = *str++;
       }
       *dst = '\0';
   }
   ```

   在简洁一点
   ```
   void copy(char *str, char *dst)
   {
       while((*dst = *str) != '\0')
       {
           dst++;
           str++;
       }
   }
   ```

   **更简单一点**
   ```
   void copy(char *str, char *dst)
   {
       while((*dst++ = *str++) != '\0');
   }
   ```



